!
{% block banner %}
! =========== Managed by sonic-cfggen DO NOT edit manually! ====================
! generated by templates/zebra/zebra.conf.j2 using config DB data
! file: zebra.conf
!
{% endblock banner %}
!
{% block zebra_nexthop %}
{% if (('localhost' in DEVICE_METADATA) and ('zebra_nexthop' in DEVICE_METADATA['localhost']) and
       (DEVICE_METADATA['localhost']['zebra_nexthop'] == 'disabled')) %}
no zebra nexthop kernel enable
{% else %}
zebra nexthop kernel enable
{% endif %}
{% endblock zebra_nexthop %}
!
{% block fpm %}
{% if ( ('localhost' in DEVICE_METADATA) and ('nexthop_group' in  DEVICE_METADATA['localhost']) and
        (DEVICE_METADATA['localhost']['nexthop_group'] == 'enabled') ) %}
! enable next hop group support
fpm use-next-hop-groups
{% else %}
! Uses the old known FPM behavior of including next hop information in the route (e.g. RTM_NEWROUTE) messages
no fpm use-next-hop-groups
{% endif %}
!
fpm address 127.0.0.1
{% endblock fpm %}
zebra nexthop-group keep 1
!
{% include "common/daemons.common.conf.j2" %}
!
{% include "zebra.interfaces.conf.j2" %}
!
